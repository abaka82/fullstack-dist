{"version":3,"sources":["../../../client/components/product/products.service.js"],"names":[],"mappings":"AAAA;;AACA,QAAQ,MAAR,CAAe,2BAAf,EAA4C,CAAC,cAAD,CAA5C;AACA,QAAQ,MAAR,CAAe,2BAAf,EACG,OADH,CACW,SADX,EACsB,UAAU,SAAV,EAAqB,QAArB,EAA+B,MAA/B,EAAuC,EAAvC,EAA2C;AAC9D,WAAS,gBAAS,IAAT,EAAe;AACrB,QAAI,IAAI,GAAG,KAAH,EAAJ,CADiB;;AAGrB,QAAI,QAAQ,CAAC,KAAK,MAAL,EAAa;AACxB,WAAK,MAAL,GAAc,OAAO,MAAP,CAAc;AAC1B,aAAK,SAAL;AACA,cAAM,IAAN;OAFY,CAAd,CADwB;;AAMxB,WAAK,MAAL,CAAY,IAAZ,CAAiB,UAAU,QAAV,EAAoB;AACnC,iBAAS,YAAY;AACnB,YAAE,OAAF,CAAU,SAAS,IAAT,CAAV,CADmB;SAAZ,CAAT,CADmC;OAApB,EAId,UAAU,QAAV,EAAoB;AACrB,YAAI,SAAS,MAAT,GAAkB,CAAlB,EAAoB;AACtB,YAAE,MAAF,CAAS,QAAT,EADsB;SAAxB;OADC,CAJH,CANwB;;AAgBxB,WAAK,MAAL,CAAY,QAAZ,CAAqB,UAAU,GAAV,EAAe;AAClC,UAAE,MAAF,CAAS,EAAC,UAAU,KAAK,GAAL,CAAS,GAAT,EAAc,SAAS,QAAQ,IAAI,MAAJ,GAAa,IAAI,KAAJ,CAA5C,CAAV,EAAV,EAA8E,GAA9E,EADkC;OAAf,CAArB,CAhBwB;KAA1B,MAmBO;AACL,QAAE,MAAF,CAAS,OAAO,KAAK,MAAL,GAAc,iBAArB,CAAT,CADK;KAnBP;AAsBA,WAAO,EAAE,OAAF,CAzBc;GAAf,CADqD;;AA6B7D,SAAO,QAAP,CA7B6D;CAA3C,CADtB","file":"products.service.js","sourcesContent":["'use strict';\r\nangular.module('meanonlineshopApp.product', ['ngFileUpload']);\r\nangular.module('meanonlineshopApp.product')\r\n  .factory('Product', function ($resource, $timeout, Upload, $q) {\r\n  \tupload = function(file) {\r\n      var d = $q.defer();\r\n\r\n      if (file && !file.$error) {\r\n        file.upload = Upload.upload({\r\n          url: '/upload',\r\n          file: file\r\n        });\r\n\r\n        file.upload.then(function (response) {\r\n          $timeout(function () {\r\n            d.resolve(response.data);\r\n          });\r\n        }, function (response) {\r\n          if (response.status > 0){\r\n            d.reject(response);\r\n          }\r\n        });\r\n\r\n        file.upload.progress(function (evt) {\r\n          d.notify({progress: Math.min(100, parseInt(100.0 * evt.loaded / evt.total))}, evt);\r\n        });\r\n      } else {\r\n        d.reject(file ? file.$error : 'No picture file');\r\n      }\r\n      return d.promise;\r\n    };\r\n\r\n    return resource;\r\n  });\r\n"]}