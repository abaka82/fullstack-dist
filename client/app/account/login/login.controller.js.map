{"version":3,"sources":["../../../../client/app/account/login/login.controller.js"],"names":[],"mappings":"AAAA;;;;;;IAEM;AACJ,WADI,eACJ,CAAY,IAAZ,EAAkB,MAAlB,EAA0B;0BADtB,iBACsB;;AACxB,SAAK,IAAL,GAAY,EAAZ,CADwB;AAExB,SAAK,MAAL,GAAc,EAAd,CAFwB;AAGxB,SAAK,SAAL,GAAiB,KAAjB,CAHwB;;AAKxB,SAAK,IAAL,GAAY,IAAZ,CALwB;AAMxB,SAAK,MAAL,GAAc,MAAd,CANwB;GAA1B;;eADI;;0BAUE,MAAM;;;AACV,WAAK,SAAL,GAAiB,IAAjB,CADU;;AAGV,UAAI,KAAK,MAAL,EAAa;AACf,aAAK,IAAL,CAAU,KAAV,CAAgB;AACd,iBAAO,KAAK,IAAL,CAAU,KAAV;AACP,oBAAU,KAAK,IAAL,CAAU,QAAV;SAFZ,EAIC,IAJD,CAIM,YAAM;;AAEV,gBAAK,MAAL,CAAY,EAAZ,CAAe,YAAf,EAFU;SAAN,CAJN,CAQC,KARD,CAQO,eAAO;AACZ,gBAAK,MAAL,CAAY,KAAZ,GAAoB,IAAI,OAAJ,CADR;SAAP,CARP,CADe;OAAjB;;;;SAbE;;;AA6BN,QAAQ,MAAR,CAAe,mBAAf,EACG,UADH,CACc,iBADd,EACiC,eADjC","file":"login.controller.js","sourcesContent":["'use strict';\r\n\r\nclass LoginController {\r\n  constructor(Auth, $state) {\r\n    this.user = {};\r\n    this.errors = {};\r\n    this.submitted = false;\r\n\r\n    this.Auth = Auth;\r\n    this.$state = $state;\r\n  }\r\n\r\n  login(form) {\r\n    this.submitted = true;\r\n\r\n    if (form.$valid) {\r\n      this.Auth.login({\r\n        email: this.user.email,\r\n        password: this.user.password\r\n      })\r\n      .then(() => {\r\n        // Logged in, redirect to home\r\n        this.$state.go('index.main');\r\n      })\r\n      .catch(err => {\r\n        this.errors.other = err.message;\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nangular.module('meanonlineshopApp')\r\n  .controller('LoginController', LoginController);\r\n"]}