{"version":3,"sources":["../../../client/app/commerce/ecommerce.controller.js"],"names":[],"mappings":"AAAA;;;;;;AAEA,CAAC,YAAW;MAEN;AAGJ,aAHI,mBAGJ,CAAY,KAAZ,EAAmB,MAAnB,EAA2B,MAA3B,EAAmC;4BAH/B,qBAG+B;;WAFpC,aAAa,GAEuB;;AACjC,WAAK,KAAL,GAAa,KAAb,CADiC;AAEjC,WAAK,MAAL,GAAc,MAAd,CAFiC;AAGjC,WAAK,MAAL,GAAc,MAAd,CAHiC;KAAnC;;iBAHI;;iCAWO,MAAM;;;;;;;;;;;;;;;AAeX,aAAK,KAAL,CAAW,IAAX,CAAgB,eAAhB,EACA;AACA,iBAAO,KAAK,UAAL,CAAgB,KAAhB;AACP,kBAAQ,KAAK,UAAL,CAAgB,MAAhB;AACR,uBAAa,KAAK,UAAL,CAAgB,WAAhB;AACb,oBAAU,KAAK,UAAL,CAAgB,QAAhB;AACV,iBAAO,KAAK,UAAL,CAAgB,KAAhB;AACP,iBAAO,KAAK,UAAL,CAAgB,KAAhB;AACP,iBAAO,KAAK,UAAL,CAAgB,KAAhB;AACP,kBAAQ,KAAK,UAAL,CAAgB,MAAhB;SATR,EAUG,OAVH,CAUW,UAAS,MAAT,EAAiB;AACxB,kBAAQ,GAAR,CAAY,MAAZ,EADwB;SAAjB,CAVX,CAfW;AA4Bb,aAAK,UAAL,GAAkB,EAAlB;;AA5Ba;;;;;;;;;;;;;qCAyCH,QAAQ,UAAU,SAAQ;AACtC,iBAAS,YAAU;AACjB,kBAAQ,MAAR,CAAe,EAAf,EAAmB,IAAnB,CAAwB,iCAAxB,EADiB;SAAV,EAEN,IAFH,EADsC;;;;mCAM3B,QAAQ,QAAQ,UAAU;AACrC,eAAO,UAAS,IAAT,EAAe;AACpB,cAAI,QAAQ,CAAC,KAAK,MAAL,EAAa;AACxB,mBAAO,IAAP,GAAc,IAAd,CADwB;AAExB,iBAAK,MAAL,GAAc,OAAO,MAAP,CAAc;AAC1B,mBAAK,mBAAiB,OAAO,OAAP,CAAe,GAAf,GAAmB,SAApC;AACL,oBAAM,IAAN;aAFY,CAAd,CAFwB;;AAOxB,iBAAK,MAAL,CAAY,IAAZ,CAAiB,UAAU,QAAV,EAAoB;AACnC,uBAAS,YAAY;AACnB,qBAAK,MAAL,GAAc,SAAS,IAAT,CADK;eAAZ,CAAT,CADmC;aAApB,EAId,UAAU,QAAV,EAAoB;AACrB,kBAAI,SAAS,MAAT,GAAkB,CAAlB,EAAoB;AACtB,wBAAQ,GAAR,CAAY,SAAS,MAAT,GAAkB,IAAlB,GAAyB,SAAS,IAAT,CAArC,CADsB;AAEtB,6BAAa,MAAb,EAAqB,SAAS,MAAT,GAAkB,IAAlB,GAAyB,SAAS,IAAT,CAA9C,CAFsB;eAAxB;aADC,CAJH,CAPwB;;AAkBxB,iBAAK,MAAL,CAAY,QAAZ,CAAqB,UAAU,GAAV,EAAe;AAClC,mBAAK,QAAL,GAAgB,KAAK,GAAL,CAAS,GAAT,EAAc,SAAS,QAAQ,IAAI,MAAJ,GAAa,IAAI,KAAJ,CAA5C,CAAhB,CADkC;aAAf,CAArB,CAlBwB;WAA1B;SADK,CAD8B;;;;WA1DnC;MAFM;;AAwFZ,UAAQ,MAAR,CAAe,mBAAf,EACG,UADH,CACc,qBADd,EACqC,mBADrC,EAxFY;CAAX,CAAD","file":"ecommerce.controller.js","sourcesContent":["'use strict';\r\n\r\n(function() {\r\n\r\nclass EcommerceController{\r\n newProduct = {};\r\n  \r\n  constructor($http, $scope, $state) {\r\n    this.$http = $http;\r\n    this.$state = $state;\r\n    this.$scope = $scope;\r\n  }\r\n\r\n\r\n\r\n  addProduct(form) {\r\n       /*var formData = new FormData();\r\n                    formData.append('image', this.image);\r\n                    console.log(this.image);\r\n                    this.$http.post('/upload', formData, {\r\n                        headers: { 'Content-Type': false },\r\n                        transformRequest: angular.identity\r\n                    }).success(function(result) {\r\n                        $scope.uploadedImgSrc = result.src;\r\n                        $scope.sizeInBytes = result.size;\r\n                    });*/\r\n\r\n   // this.$http.post('/upload', {});\r\n   // if (this.newProduct) {\r\n    //console.log(imageupload);\r\n        this.$http.post('/api/products', \r\n        {\r\n        Title: this.newProduct.title,\r\n        Author: this.newProduct.author,\r\n        Description: this.newProduct.description,\r\n        Category: this.newProduct.category,\r\n        Image: this.newProduct.image,\r\n        Price: this.newProduct.price,\r\n        Stock: this.newProduct.stock,\r\n        Status: this.newProduct.status\r\n        }).success(function(result) {\r\n            console.log(result);\r\n        });\r\n      this.newProduct = {};\r\n   // }\r\n  }\r\n\r\n // deleteThing(thing) {\r\n //   this.$http.delete('/api/product/' + product._id);\r\n // }\r\n\r\n /**\r\n * modalDemoCtrl - Controller used to run modal view\r\n * used in Basic form view\r\n */\r\n \r\n DialogDemoCtrl($scope, $timeout, $dialog){\r\n    $timeout(function(){\r\n      $dialog.dialog({}).open('views/common/modal_example.html');  \r\n    }, 3000);  \r\n   }\r\n\r\n  uploadHander($scope, Upload, $timeout) {\r\n    return function(file) {\r\n      if (file && !file.$error) {\r\n        $scope.file = file;\r\n        file.upload = Upload.upload({\r\n          url: '/api/products/'+$scope.product._id+'/upload',\r\n          file: file\r\n        });\r\n\r\n        file.upload.then(function (response) {\r\n          $timeout(function () {\r\n            file.result = response.data;\r\n          });\r\n        }, function (response) {\r\n          if (response.status > 0){\r\n            console.log(response.status + ': ' + response.data);\r\n            errorHandler($scope)(response.status + ': ' + response.data);\r\n          }\r\n        });\r\n\r\n        file.upload.progress(function (evt) {\r\n          file.progress = Math.min(100, parseInt(100.0 * evt.loaded / evt.total));\r\n        });\r\n      }\r\n    };\r\n  }\r\n}\r\n\r\nangular.module('meanonlineshopApp')\r\n  .controller('EcommerceController', EcommerceController);\r\n\r\n})();\r\n\r\n/*angular.module('meanonlineshopApp')\r\n.controller('EcommerceController', function ($scope, $state, Product) {\r\n     single = function(image) {\r\n                        var formData = new FormData();\r\n                        formData.append('image', image, image.file.name);\r\n\r\n                        this.$http.post('/upload', formData, {\r\n                            headers: { 'Content-Type':  'application/json' },\r\n                            transformRequest: angular.identity\r\n                        }).success(function(data) {\r\n                            //this.$scope.uploadedImgSrc = result.src;\r\n                            //this.$scope.sizeInBytes = result.size;\r\n                             var parsedJson = JSON.parse(data) ;\r\n                              console.log(parsedJson.name);\r\n                        })\r\n                          .error(function(data)\r\n                         {\r\n                          console.log(data);\r\n                         })\r\n                        ;\r\n                        Product.upload(image)\r\n      };\r\n  });*/"]}